# Gets the battery state and capacity
# prints to stdout

state() {
	state="$(cat "/sys/class/power_supply/$BATTERY/status")"
	case $state in Full) printf "=" ;; Discharging) printf "-" ;;
		Charging) printf "+" ;; *) printf "?" ;; esac
}


capacity() { tr -d '\n' < "/sys/class/power_supply/$BATTERY/capacity"; }

battery() { 
	[ -z "$BATTERY" ] && BATTERY="BAT0"
	printf "BAT: $(state) $(capacity) $DELIMETER "
}
